{% extends "agent_base.html" %}
{% load static %}

{% block title %}Update Lead{% endblock %}

{% block content %}

<link rel="stylesheet" href="{% static 'leads/style.css' %}">

<div class="lead-wrapper">

    <form method="post" class="lead-card">
        {% csrf_token %}
    <H2>Lead Name:  {{ lead.name }}</H2>
        <!-- STATUS -->
        <h3 class="block-title">Status</h3>
        <div class="field-block">
            <label class="field-label">Status</label>
            <select name="status" class="field-select small">
                <option value="new" {% if lead.status == "new" %}selected{% endif %}>New</option>
                <option value="contacted" {% if lead.status == "contacted" %}selected{% endif %}>Contacted</option>
                <option value="qualified" {% if lead.status == "qualified" %}selected{% endif %}>Qualified</option>
                <option value="closed" {% if lead.status == "closed" %}selected{% endif %}>Closed</option>
            </select>
        </div>

        <!-- CLIENT REQUIREMENTS -->
        <h3 class="block-title">Client Requirements</h3>

        <div class="two-col">
            <div class="field-block">
                <label class="field-label">Property Type</label>
                <select name="property_type" class="field-select">
                    <option value="">-- Select --</option>
                    <option>Plot</option>
                    <option>Flat</option>
                    <option>Villa</option>
                    <option>Commercial</option>
                </select>
            </div>

            <div class="field-block">
                <label class="field-label">Preferred Location</label>
                <input type="text" name="preferred_location" class="field-input">
            </div>

            <div class="field-block">
                <label class="field-label">Budget Min</label>
                <input type="number" name="budget_min" class="field-input">
            </div>

            <div class="field-block">
                <label class="field-label">Budget Max</label>
                <input type="number" name="budget_max" class="field-input">
            </div>

            <div class="field-block">
                <label class="field-label">Purchase Timeline</label>
                <select name="purchase_timeline" class="field-select">
                    <option value="">-- Select --</option>
                    <option>Immediate</option>
                    <option>1–3 Months</option>
                    <option>3–6 Months</option>
                    <option>Just Enquiry</option>
                </select>
            </div>
        </div>

        <!-- CALL FEEDBACK -->
        <h3 class="block-title">Call Feedback</h3>

        <div class="two-col">
            <div class="field-block">
                <label class="field-label">Interest Level</label>
                <select name="interest_level" class="field-select small">
                    <option value="">-- Select --</option>
                    <option>Low</option>
                    <option>Medium</option>
                    <option>High</option>
                </select>
            </div>

            <div class="field-block">
                <label class="field-label">Next Action</label>
                <input type="text" name="next_action" class="field-input">
            </div>
        </div>

        <div class="field-block">
            <label class="field-label">Client Response</label>
            <textarea name="client_response" class="field-textarea"></textarea>
        </div>

        <div class="field-block">
            <label class="field-label">Objections / Concerns</label>
            <textarea name="objections" class="field-textarea"></textarea>
        </div>

        <!-- FOLLOW UP -->
        <h3 class="block-title">Follow-up</h3>
        <div class="field-block">
            <label class="field-label">Next Follow-up</label>
            <input type="datetime-local" name="follow_up_at" class="field-input">
        </div>

        <!-- NOTES -->
        <h3 class="block-title">Agent Notes</h3>
        <textarea name="agent_note" class="field-textarea"></textarea>

        <!-- ACTIONS -->
        <div class="action-bar">
            <button type="submit" class="btn-save">Save</button>
            <a href="{% url 'agent_leads' %}" class="btn-back">Back</a>
        </div>

    </form>
</div>


{% endblock %}
