{% extends "admin_base.html" %}
{% load static %}

{% block title %}Admin Dashboard{% endblock %}

{% block content %}


<style>
    /* ===== Grid ===== */
    .mini-cards-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(230px, 1fr));
        gap: 20px;
        margin-bottom: 30px;
    }

    /* ===== Card ===== */
    .mini-card {
        background: #ffffff;
        border-radius: 8px;
        border: 1px solid #e5e7eb;
        padding: 18px 20px 14px;
    }

    /* ===== Card Content ===== */
    .mini-card-content {
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    /* ===== Text ===== */
    .mini-text h2 {
        font-size: 26px;
        font-weight: 700;
        color: rgb(92, 85, 85);
        margin: 0;
    }

    .mini-text span {
        font-size: 13px;
        color: #6b7280;
    }

    /* ===== Icon ===== */
    .mini-icon {
        width: 38px;
        height: 38px;
        border-radius: 6px;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .mini-icon i {
        width: 18px;
        height: 18px;
        color: #fff;
    }

    /* ===== Colors ===== */
    .icon-blue {
        background: #0ea5e9;
    }

    .icon-orange {
        background: #f97316;
    }

    .icon-green {
        background: #10b981;
    }

    .icon-pink {
        background: #908a8d;
    }



    .icon-blue1 {
        background: #6748aa;
    }

    .icon-orange1 {
        background: #a8693c;
    }

    .icon-green1 {
        background: #608f7f;
    }

    .icon-pink1 {
        background: #75a93e;
    }

    /* ===== Progress Bar ===== */
    .mini-progress {
        height: 4px;
        border-radius: 4px;
        margin-top: 12px;
    }

    .page-header {
    font-size: 24px !important;
    font-weight: 600 !important;
    margin-bottom: 20px !important;
    }

    .mini-progress.blue {
        background: #0ea5e9;
        width: 60%;
    }

    .mini-progress.orange {
        background: #f97316;
        width: 45%;
    }

    .mini-progress.green {
        background: #10b981;
        width: 70%;
    }

    .mini-progress.pink {
        background: #908a8d;
        width: 50%;
    }


    .mini-progress.blue1 {
        background: #6748aa;
        width: 60%;
    }

    .mini-progress.orange1 {
        background: #a8693c;
        width: 45%;
    }

    .mini-progress.green1 {
        background: #608f7f;
        width: 70%;
    }

    .mini-progress.pink1 {
        background: #75a93e;
        width: 50%;
    }


    /* charts style*/
    .dashboard-wrapper .charts-grid {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        /* 2 charts per row */
        gap: 20px;
        margin-top: 20px;
    }


    .dashboard-wrapper .chart-item {
        background: #ffffff;
        border-radius: 14px;
        padding: 20px 20px 20px;
        box-shadow: 0 10px 28px rgba(15, 23, 42, 0.08);
        display: flex;
        flex-direction: column;
        align-items: center;
    }


    .dashboard-wrapper .chart-title {
        font-size: 17px;
        font-weight: 600;
        color: #0f172a;
        margin-bottom: 18px;
        text-align: center;
    }


    .dashboard-wrapper .chart-item img {
        width: 100%;
        min-height: 200px;
        object-fit: contain;
        background: #f8fafc;
        border-radius: 10px;
    }


    .dashboard-wrapper .no-data {
        color: #9ca3af;
        font-size: 15px;
        font-style: italic;
        margin-top: 40px;
    }


    @media (max-width: 900px) {
        .dashboard-wrapper .charts-grid {
            grid-template-columns: 1fr;
        }

        .dashboard-wrapper .chart-item img {
            max-width: 100%;
            min-height: 177px;
        }
    }
</style>



<div class="dashboard-wrapper">

    <h3 class="page-header">
        Welcome {{ request.user.username }}
    </h3>

    <!-- STATS CARDS -->
    <div class="mini-cards-grid">
        <!-- card 1 -->
        <div class="mini-card">
            <div class="mini-card-content">
                <div class="mini-text">
                    <h2>{{ stats.total|default:"0" }}</h2>
                    <span>Total Leads</span>
                </div>
                <div class="mini-icon icon-blue">
                    <i data-lucide="users"></i>
                </div>
            </div>
            <div class="mini-progress blue"></div>
        </div>

        <!-- card 2 -->
        <div class="mini-card">
            <div class="mini-card-content">
                <div class="mini-text">
                    <h2>{{ stats.associates|default:"0" }}</h2>
                    <span>Associates</span>
                </div>
                <div class="mini-icon icon-orange">
                    <i data-lucide="user-check"></i>
                </div>
            </div>
            <div class="mini-progress orange"></div>
        </div>

        <!-- card 3 -->
        <div class="mini-card">
            <div class="mini-card-content">
                <div class="mini-text">
                    <h2>{{ stats.agents|default:"0" }}</h2>
                    <span>Agents</span>
                </div>
                <div class="mini-icon icon-green">
                    <i data-lucide="user-cog"></i>
                </div>
            </div>
            <div class="mini-progress green"></div>
        </div>

        <!-- card 4 -->
        <div class="mini-card">
            <div class="mini-card-content">
                <div class="mini-text">
                    <h2>â‚¹ --</h2>
                    <span>Revenue</span>
                </div>
                <div class="mini-icon icon-pink">
                    <i data-lucide="indian-rupee"></i>
                </div>
            </div>
            <div class="mini-progress pink"></div>
        </div>
    </div>
    <div class="mini-cards-grid">
        <!-- card 5 -->
        <div class="mini-card">
            <div class="mini-card-content">
                <div class="mini-text">
                    <h2>{{ visiters|default:"0" }}</h2>
                    <span>Total Visiters</span>
                </div>
                <div class="mini-icon icon-blue1">
                    <i data-lucide="eye"></i>
                </div>
            </div>
            <div class="mini-progress blue1"></div>
        </div>

        <!-- card 6 -->
        <div class="mini-card">
            <div class="mini-card-content">
                <div class="mini-text">
                    <h2>{{ associates|default:"0" }}</h2>
                    <span>Booked</span>
                </div>
                <div class="mini-icon icon-orange1">
                    <i data-lucide="calendar-check"></i>
                </div>
            </div>
            <div class="mini-progress orange1"></div>
        </div>

        <!-- card 7 -->
        <div class="mini-card">
            <div class="mini-card-content">
                <div class="mini-text">
                    <h2>{{ agents|default:"0" }}</h2>
                    <span>Satisfy per</span>
                </div>
                <div class="mini-icon icon-green1">
                    <i data-lucide="trending-up"></i>
                </div>
            </div>
            <div class="mini-progress green1"></div>
        </div>

        <!-- card 8 -->
        <div class="mini-card">
            <div class="mini-card-content">
                <div class="mini-text">
                    <h2>0</h2>
                    <span>etc</span>
                </div>
                <div class="mini-icon icon-pink1">
                    <i data-lucide="x-circle"></i>
                </div>
            </div>
            <div class="mini-progress pink1"></div>
        </div>
    </div>


    <!-- CHART SECTION -->

    <div class="charts-grid">

        <!-- Pie Chart 1 -->
        <div class="chart-item">
            <h4 class="chart-title">Monthly Leads</h4>

            {% if chart %}
            <img src="data:image/png;base64,{{ chart }}" alt="Monthly Leads Count">
            {% else %}
            <p class="no-data">No data available</p>
            {% endif %}
        </div>

        <!-- Pie Chart 2 -->
        <div class="chart-item">
            <h4 class="chart-title">Status of the Leads</h4>

            {% if status_chart %}
            <img src="data:image/png;base64,{{ status_chart }}" alt="Lead Status">
            {% else %}
            <p class="no-data">No data available</p>
            {% endif %}
        </div>

    </div>






</div>

<!-- <div>
            {% if chart %}
            <img src="data:image/png;base64,{{ chart }}" alt="Monthly Leads Count">
            {% else %}
            <p>No data available</p>
            {% endif %}
        </div> -->

{% endblock %}